News-API
-----------
v.1.0
Это бэкенд дипломного проекта,
выполненный в ходе обучения в Яндекс.Практикуме
на факультете веб-разработки


АДРЕС
-----------
- newsfinder.tk/api
- 185.185.68.50/api


МЕТОДЫ REST API
-----------
| **Метод**  | **Адрес**       |  **Тело запроса**					      			  |  **Результат**                                        |
|------------|-----------------|------------------------------------------------------|-------------------------------------------------------|
|   GET      |   /users/me     |  {} 											      |  возвращает информацию о пользователе (email и имя)   |
|   GET      |   /articles     |  {} 		  									      |  возвращает все сохранённые пользователем статьи      |
|   POST     |   /articles     |  {keyword, title, text, date, source, link и image}  |  сохраняет статью с переданными в теле атрибутами     |
|   DELETE   |   /articles/{id}|  {} 	          				      				  |  удаляет сохранённую статью  по _id                   |
|   POST     |   /signin       |  {email, password}				      				  |  авторизация пользователя			      			  |
|   POST     |   /signup	   |  {email, password, name}  							  |  создание нового пользователя			              |


ДОСТУП К API
-----------
Все маршруты API защищены авторизацией.
Удаление статьи доступно только авторизованному пользователю, сохранившему эту статью.


ОБРАБОТКА ОШИБОК
-----------
Реализована централизованная обработка ошибок и вывод кастомных сообщения в случаях:

| **Код ошибки**  |  **Сообщение**                        		|  **Причины**    		                 					 					 		   |  
|-----------------|---------------------------------------------|------------------------------------------------------------------------------------------|
|   400	          |  В запросе указаны неправильные данные		|  Данные, переданные в теле запросе, не прошли валидацию 						     	   |
|   401           |  Необходима авторизация               		|  В заголовке запроса нет авторизации, тип авторизации не Bearer, передан неверный токен  |
|   401           |  Неправильные почта или пароль        		|  При обращении на маршрут /signin переданы неверный email либо пароль 		   		   |
|   403           |  Нет прав на удаление этой статьи   		|  Метод DEL по маршруту /articles/{id} вызван не владельцем статьи 	  	 	  		   |
|   404           |  Статьи не найдены			         		|  Вызов метода GET по маршруту /articles не принес результата							   |
|   404           |  Пользователь не найден			       		|  Вызов метода GET по маршруту /users/me не принес результата			   	 	   		   |
|   404           |  Карточка с таким id не найдена	       		|  Вызов метода DEL по маршруту /articles/{id} с несуществуюзщим id		   	 	   		   |
|   404           |  Такой ресурс не найден		      		 	|  Запрос по несуществующему адресу					   	 	   							   |
|   409           |  Пользователь с таким email уже существует 	|  Вызов метода POST по маршруту /signup с неуникальным email		  	 	   			   |
|   500           |  На сервере произошла ошибка       	  		|  Любая иная ошибка при обработке запроса				 	 	  						   |


В режиме разработки (NODE_ENV !== 'production') для ошибок 400 и 500 возвращается полный текст ошибки без замены на кастомное сообщение.


РЕШЕННЫЕ ЗАДАЧИ
-----------

- созданы схемы и модели Mongo
- созданы контроллеры и роутуы для указанных методов
- передаваемые значения корректно валидируются
- пароли в базе хранятся в захешированном виде
- создана мидлвэра авторизации, маршрурты закрыты авторизацией
- исключена возможность удаления чужих карточек
- хеша пароля возвращается из базы только при аутентификации
- реализована мидлвэра централизованной обработки ошибок
- реализовано логирование запросов и ошибок в файлах request.log и error.log
- API поднято на облачном сервере, настроен nginx
- создан сервер с базой данных Mongo 
- подключены сертификаты для работы по https
- настроены переменные окружения на сервере в файле .env (ключ для создания токенов, режим работы приложения)
- настроен CORS


АВТОР
-----------
Попов Степан